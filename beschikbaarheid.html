<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Beschikbaarheid — Hotel Aurora</title>
  <link rel="stylesheet" href="style.css">
  <meta name="description" content="Bekijk de actuele beschikbaarheid van Hotel Aurora en maak een reservering.">
  <link rel="canonical" href="https://hotel-aurora.github.io/beschikbaarheid.html">
  <meta property="og:url" content="https://hotel-aurora.github.io/beschikbaarheid.html">

  <!-- Page-specific CSS: zorgt dat het formulier exact dezelfde opmaak heeft als op vacatures -->
  <style>
    /* Lightweight reproduction / override for apply-card layout if not present in style.css */
    .apply-card {
      max-width: 820px;
      margin: var(--space-lg) auto;
      padding: var(--space-lg);
      border-radius: 12px;
      background: linear-gradient(180deg,#fff,#fbfbfb);
      border: 1px solid rgba(0,0,0,0.04);
      box-shadow: 0 10px 30px rgba(17,17,17,0.04);
    }
    .apply-grid {
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space);
    }
    @media (max-width: 860px) { .apply-grid { grid-template-columns: 1fr; } }
    .input, textarea, select {
      padding: .7rem .9rem;
      border-radius:10px;
      border: 1px solid rgba(0,0,0,0.08);
      font-size:var(--fs-md);
      background: #fff;
      box-shadow: inset 0 -1px 0 rgba(0,0,0,0.02);
      width:100%;
      transition: box-shadow 160ms ease, border-color 160ms ease;
    }
    .apply-actions {
      display:flex;
      gap:.75rem;
      margin-top: var(--space);
      justify-content:flex-end;
    }
    @media (max-width:600px){
      .apply-actions { justify-content:stretch; flex-direction:column; }
      .apply-actions .button { width:100%; }
    }
    /* Calendar small styles for clarity */
    .calendar { display:grid; grid-template-columns: repeat(7, 1fr); gap: .5rem; }
    .calendar .day { padding:.6rem; border-radius:8px; text-align:center; min-height:68px; display:flex; flex-direction:column; justify-content:space-between; background:#fff; border:1px solid rgba(0,0,0,0.03); }
    .calendar .day.header { font-weight:700; background:transparent; border:none; min-height:auto; }
    .calendar-wrap { overflow:auto; -webkit-overflow-scrolling:touch; padding-bottom:.5rem; }
    .badge-booked { background: rgba(194,59,59,0.12); color: #c23b3b; padding: .25rem .45rem; border-radius:999px; font-weight:700; font-size:.8rem; }
    .badge-available { background: rgba(47,143,91,0.08); color: #2f8f5b; padding: .25rem .45rem; border-radius:999px; font-weight:700; font-size:.8rem; }
    @media (max-width:640px) {
      .calendar .day { min-height:56px; padding:.5rem; }
      .calendar .day .date { font-size:.95rem; }
    }
  </style>
</head>
<body>
  <!-- Header (uniform across site) -->
  <header class="header" id="site-header">
    <div class="container header-inner">
      <div class="logo"><a href="index.html" style="color:inherit;text-decoration:none;">Hotel Aurora</a></div>
      <nav class="nav" aria-label="Hoofdmenu">
        <a href="index.html">Home</a>
        <a href="kamers.html">Onze kamers</a>
        <a href="faciliteiten.html">Faciliteiten</a>
        <a href="team.html">Ons team</a>
        <a href="vacatures.html">Vacatures</a>
        <a href="gastenboek.html">Gastenboek</a>
        <a class="cta" href="beschikbaarheid.html" role="button">Beschikbaarheid</a>
      </nav>
    </div>
  </header>

  <!-- HERO (stacked style can be used here) -->
  <section class="hero" aria-labelledby="avail-hero">
    <!-- Afbeelding: omgeving / paden (full-width hero) -->
    <!-- Beeld toont wandelpaden en vegetatie nabij het hotel -->
    <img src="images/location-ai.jpg" alt="Omgeving van Hotel Aurora: paden, duinen en bos met uitzicht" class="hero-media" />
    <div class="container">
      <div style="max-width:760px; color:var(--color-white); position:relative; z-index:2; padding-top:3rem; padding-bottom:3rem;">
        <h1 id="avail-hero">Beschikbaarheid</h1>
        <p class="lead">Controleer de kalender en plan uw verblijf. De kalender toont actuele beschikbaarheid voor juli 2026; volgeboekte dagen zijn duidelijk gemarkeerd.</p>
        <div style="margin-top:1rem;">
          <a class="button primary" href="#calendar">Bekijk kalender</a>
          <a class="button ghost" href="#reserve">Reserveer</a>
        </div>
      </div>
    </div>
  </section>

  <main>
    <!-- Calendar section -->
    <section id="calendar-section" class="section" aria-labelledby="calendar-heading">
      <div class="container">
        <div class="kicker">Kalender</div>
        <h2 id="calendar-heading" style="margin-top:.5rem;">Beschikbaarheid juli 2026</h2>
        <p class="prose" style="margin-top:1rem;">De kalender hieronder geeft beschikbaarheid weer. De periode 6 t/m 11 juli 2026 is volgeboekt — dit wordt in de kalender gemarkeerd. Gebruik het reserveringsformulier om uw voorkeursdata te controleren.</p>

        <div class="calendar-wrap" style="margin-top:1rem;">
          <div id="calendar-grid" class="calendar" role="grid" aria-labelledby="calendar-heading"></div>
        </div>

        <div style="margin-top:.75rem; color:var(--color-muted); font-size:.95rem;">
          <span class="badge-booked" style="margin-right:.5rem;">Volgeboekt</span> 6 — 11 juli 2026
          <span style="margin-left:1rem;" class="badge-available">Beschikbaar</span>
        </div>
      </div>
    </section>

    <!-- Reserve section: full copy-paste replacement, styled like vacatures -->
    <section id="reserve" class="section" aria-labelledby="reserve-heading">
      <div class="container">
        <div class="kicker">Reserveren</div>
        <h2 id="reserve-heading" style="margin-top:.5rem;">Boek uw verblijf</h2>
        <p class="prose" style="margin-top:1rem;">Kies uw aankomst- en vertrekdatum. Als uw periode overlapt met een volgeboekte dag, krijgt u direct een melding en suggesties om te wijzigen.</p>

        <div class="apply-card" style="margin-top:1rem;" role="form" aria-labelledby="reserve-heading">
          <form id="booking-form" onsubmit="submitBooking(event)">
            <div class="apply-grid">
              <div>
                <label for="checkin">Aankomstdatum</label>
                <input id="checkin" class="input" type="date" required />
              </div>

              <div>
                <label for="checkout">Vertrekdatum</label>
                <input id="checkout" class="input" type="date" required />
              </div>

              <div>
                <label for="guests">Aantal gasten</label>
                <select id="guests" class="input" required>
                  <option value="1">1 gast</option>
                  <option value="2" selected>2 gasten</option>
                  <option value="3">3 gasten</option>
                  <option value="4">4 gasten</option>
                </select>
              </div>

              <div>
                <label for="contact-name">Naam (optioneel)</label>
                <input id="contact-name" class="input" placeholder="Voor- en achternaam" />
              </div>

              <div style="grid-column: 1 / -1;">
                <label for="contact-email">E-mail (optioneel)</label>
                <input id="contact-email" class="input" type="email" placeholder="naam@voorbeeld.nl" />
              </div>
            </div>

            <div class="apply-actions">
              <button class="button primary" type="submit">Controleer & Reserveer</button>
              <button class="btn-ghost" type="button" onclick="document.getElementById('booking-form').reset();">Reset</button>
            </div>

            <div id="booking-feedback" aria-live="polite" style="margin-top:.75rem;"></div>
          </form>
        </div>

        <div style="margin-top:1.5rem;">
          <h4>Opmerking</h4>
          <p class="prose">Dit is een demo-frontend: het formulier is niet verbonden met een backend. Beschikbaarheid en validatie worden lokaal gecontroleerd.</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="site-footer" role="contentinfo">
    <div class="container" style="display:flex; gap:var(--space-lg); flex-wrap:wrap; align-items:flex-start; padding-top:1.25rem; padding-bottom:1.25rem;">
      <div style="flex:1 1 360px;">
        <h4 style="margin-top:0;">Hotel Aurora</h4>
        <p style="margin:.25rem 0;">© 2026 Hotel Aurora</p>
      </div>
      <div style="flex:1 1 240px;">
        <h5 style="margin:.25rem 0;">Snel naar</h5>
        <ul style="list-style:none; padding:0; margin:0;">
          <li><a href="index.html">Home</a></li>
          <li><a href="kamers.html">Onze kamers</a></li>
          <li><a href="faciliteiten.html">Faciliteiten</a></li>
          <li><a href="team.html">Ons team</a></li>
        </ul>
      </div>
      <div style="flex:1 1 240px;">
        <h5 style="margin:.25rem 0;">Contact</h5>
        <p style="margin:0;">info@hotel-aurora.example<br/>+31 20 123 4567</p>
      </div>
    </div>
  </footer>

  <!-- JavaScript: calendar render + booking validation (keeps same behavior as before) -->
  <script>
    // Utility: create a Date at local midnight from yyyy-mm-dd string
    function dateFromInput(value) {
      const parts = value.split('-').map(Number);
      return new Date(parts[0], parts[1]-1, parts[2]);
    }

    (function(){
      // Calendar: July 2026, booked 6..11 inclusive
      const year = 2026;
      const monthIndex = 6; // July (0-based)
      const bookedStart = new Date(year, monthIndex, 6); // inclusive
      const bookedEndInclusive = new Date(year, monthIndex, 11); // inclusive
      const bookedEndExclusive = new Date(bookedEndInclusive.getTime());
      bookedEndExclusive.setDate(bookedEndExclusive.getDate() + 1); // exclusive upper bound

      const grid = document.getElementById('calendar-grid');

      function renderCalendar() {
        grid.innerHTML = '';
        // day names header
        const dayNames = ['Zo','Ma','Di','Wo','Do','Vr','Za'];
        dayNames.forEach(n => {
          const h = document.createElement('div');
          h.className = 'day header';
          h.textContent = n;
          grid.appendChild(h);
        });

        const first = new Date(year, monthIndex, 1);
        const daysInMonth = new Date(year, monthIndex+1, 0).getDate();
        const startWeekday = first.getDay(); // 0..6

        // blank cells for start weekday
        for(let i=0;i<startWeekday;i++){
          const empty = document.createElement('div');
          empty.className = 'day';
          empty.style.background = 'transparent';
          empty.style.border = 'none';
          grid.appendChild(empty);
        }

        for(let d=1; d<=daysInMonth; d++){
          const dayDate = new Date(year, monthIndex, d);
          const isBooked = (dayDate >= bookedStart && dayDate <= bookedEndInclusive);
          const el = document.createElement('div');
          el.className = 'day' + (isBooked ? ' booked' : '');
          const dateEl = document.createElement('div');
          dateEl.className = 'date';
          dateEl.textContent = d;
          const note = document.createElement('div');
          note.className = 'note';
          if(isBooked){
            note.innerHTML = '<span class="badge-booked">Volgeboekt</span>';
          } else {
            note.innerHTML = '<span class="badge-available">Beschikbaar</span>';
          }
          el.appendChild(dateEl);
          el.appendChild(note);
          grid.appendChild(el);
        }
      }

      renderCalendar();

      // Configure date inputs for July 2026
      const checkin = document.getElementById('checkin');
      const checkout = document.getElementById('checkout');
      const pad = (n)=> n.toString().padStart(2,'0');
      const monthStr = (m)=> `${m.getFullYear()}-${pad(m.getMonth()+1)}-${pad(m.getDate())}`;
      const firstOfMonth = new Date(year, monthIndex, 1);
      const lastOfMonth = new Date(year, monthIndex+1, 0);
      const minDate = monthStr(firstOfMonth);
      const maxDate = monthStr(lastOfMonth);
      checkin.setAttribute('min', minDate);
      checkin.setAttribute('max', maxDate);
      checkout.setAttribute('min', monthStr(new Date(year, monthIndex, 2))); // checkout at least next day
      checkout.setAttribute('max', maxDate);

      // Booking validation: booking nights are [checkin, checkout) (checkout exclusive)
      window.submitBooking = function(e){
        e.preventDefault();
        const fb = document.getElementById('booking-feedback');
        fb.textContent = '';
        const inStr = checkin.value;
        const outStr = checkout.value;
        if(!inStr || !outStr) { fb.style.color='crimson'; fb.textContent='Kies zowel aankomst- als vertrekdatum.'; return; }
        const inDate = dateFromInput(inStr);
        const outDate = dateFromInput(outStr);

        if(isNaN(inDate) || isNaN(outDate)) { fb.style.color='crimson'; fb.textContent='Kies geldige datums.'; return; }
        if(outDate <= inDate) { fb.style.color='crimson'; fb.textContent='Vertrek moet na aankomst liggen.'; return; }

        // Overlap exists if [checkin, checkout) intersects [bookedStart, bookedEndExclusive)
        if(inDate < bookedEndExclusive && outDate > bookedStart) {
          fb.style.color='crimson';
          fb.innerHTML = 'Helaas — uw gekozen periode overlapt met een volgeboekte periode (6–11 juli 2026). Kies andere data of <a href="mailto:info@hotel-aurora.example">neem contact op</a>.';
          return;
        }

        fb.style.color='var(--color-deep-green)';
        fb.textContent = 'Geweldig — uw periode is beschikbaar. Dit is een demo-reservering (geen backend). We sturen normaal een bevestiging per e-mail.';
        setTimeout(()=>{ document.getElementById('booking-form').reset(); }, 1200);
      };
    })();

    // Sticky header behavior (consistent)
    (function(){
      const header = document.getElementById('site-header');
      const onScroll = () => header.classList.toggle('scrolled', window.scrollY > 10);
      window.addEventListener('scroll', onScroll, {passive:true});
      onScroll();
    })();
  </script>
</body>
</html>
